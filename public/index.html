<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  </head>
  <body ng-app="TCApp" ng-controller="AppCtrl" 
    ng-class="{'hide-header': hideHeader}">

    <div class="header tc-header">
      <div id="Minimize">
        <a ng-click="hideHeader = !hideHeader" id="editArrow" 
          title="{{hideHeader ? 'Show' : 'Hide'}} headers">
          <img height="26" id="arrowImg"/>
        </a>
      </div>
      <div class="TCHead" id="TCHead"> 
        <div class="rh"><span class="title">Textual Communities</span></div>
        <nav class="TCHul">
          <ul>
            <li><a href="#">Home</a></li>
            <li><a href="#">About</a></li>
            <li>
              <a href="#">Public Communities</a>
              <ul>
                <li ng-repeat="community in app.communities">
                  <a href="#/community/{{community._id}}/home">
                    {{community.name}}</a>
                </li>
              </ul>
            </li>
            <li ng-if="!app.authUser.local.name">
              <a href="/auth/">Log In</a>
            </li>
            <li ng-if="app.authUser.local.name"><a href="#">My Communities</a>
              <ul>
                <li>
                  <a href="#/community/new">Create New Community</a>
                </li>
                <li ng-repeat="membership in app.authUser.memberships">
                  <a href="#/community/{{membership.community._id}}/home">
                    {{membership.community.name}}</a>
                </li>
              </ul>
            </li>
            <li ng-if="app.authUser.local.name">
              <a href="#">{{app.authUser.local.name}}</a>
              <ul>
                <li><a href="#" ng-click="logout()">Log Out</a></li>
                <li><a href="/auth/profile" >Login Profile</a></li>
           </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>
    <!-- here is where the body goes -->
    <!-- let us have the community header first, if we have one. else, just give us the main tc -->
    <div ng-view class="tc-content"></div>

    <script type="text/javascript" src="dist/vendor.bundle.js"></script>
    <script type="text/javascript" src="dist/app.bundle.js"></script>
  </body>
</html>


